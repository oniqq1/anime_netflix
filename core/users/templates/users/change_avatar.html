{% extends 'base.html' %}
{% load static %}

{% block title %}Change Avatar{% endblock %}

{% block content %}
<div class="max-w-[30rem] mx-auto bg-zinc-800/80 rounded-xl p-8 mt-8 mb-12 shadow-lg">

    <h2 class="text-3xl font-bold text-center mb-4">Change Avatar</h2>
    <p class="text-zinc-400 text-center mb-6">
        <i>Update your Lab Member ID photo. Make it count.</i>
    </p>

    <div class="flex justify-center mb-6">
        {% if user.profile.avatar %}
            <img src="{{ user.profile.avatar.url }}" alt="Current avatar"
                 class="w-32 h-32 rounded-full object-cover ring-2 ring-yellow-400">
        {% else %}
            <div class="w-32 h-32 rounded-full bg-zinc-900 flex items-center justify-center text-5xl ring-2 ring-zinc-600">
                {{ user.username|first|upper }}
            </div>
        {% endif %}
    </div>

    <form method="post" enctype="multipart/form-data" class="flex flex-col gap-6">
        {% csrf_token %}

        <div class="w-full">
            <label class="block mb-2 text-lg" for="avatar">Select Image</label>
            <input type="file" name="avatar" id="avatar"
                   accept="image/*"
                   class="w-full bg-zinc-900/95 text-white px-5 py-4 rounded-lg file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-zinc-700 file:text-white file:font-semibold file:cursor-pointer hover:file:bg-zinc-600 focus:outline-none focus:ring-2 focus:ring-yellow-400">
        </div>

        <button type="submit"
                class="w-full bg-lime-600 text-white px-9 py-5 rounded-xl text-lg font-semibold transition duration-300 hover:opacity-80">
            Upload Avatar
        </button>
    </form>

    <div class="mt-6 text-center">
        <a href="{% url 'settings' %}" class="text-yellow-400 hover:underline text-lg">Back to Settings</a>
    </div>

</div>
{% endblock %}
